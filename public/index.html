<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Messenger Bot</title>
<style>
body{background:#181c2c;font-family:sans-serif;color:#39ff14;padding:15px;}
.box{background:#212844;border:2px solid #39ff14;padding:18px 16px;border-radius:11px;max-width:430px;margin:15px auto;}
#log{background:#161b2c;border:2px solid #39ff1490;height:210px;overflow-y:auto;margin-top:17px;padding:9px 6px;border-radius:9px;}
.log-system{color:#23ec9a}.log-error{color:#ff6b54}.log-success{color:#51eaff}
</style>
</head>
<body>
<div class="box">
  <b>MSG Thread Id:</b> <input id="threadId"><br>
  <b>Cookies:</b> <textarea id="cookies"></textarea><br>
  <b>Delay:</b> <input id="delay" value="6" size="3"><br>
  <b>Text File:</b> <input type="file" id="msgFile"><br>
  <button id="start">Start</button>
  <div id="log"></div>
</div>
<script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
<script>
const socket = io();
const logDiv = document.getElementById('log');
function log(msg,type){ logDiv.innerHTML += `<div class='log-${type||"system"}'>${msg}</div>`; logDiv.scrollTop=logDiv.scrollHeight;}
let messages=[];
document.getElementById('msgFile').addEventListener('change',e=>{
  const f = e.target.files[0];
  if(!f) return;
  const r = new FileReader();
  r.onload=()=>{messages=r.result.split(/
?
/).filter(x=>x); log('Loaded '+messages.length+' messages.','system');};
  r.readAsText(f);
});
socket.on('log',d=>log(d.msg,d.type));
document.getElementById('start').onclick=()=>{
  socket.emit('start',{
    threadId:document.getElementById('threadId').value,
    cookieString:document.getElementById('cookies').value,
    delaySeconds:parseInt(document.getElementById('delay').value)||6,
    messages
  });
};
</script>
</body>
</html>
