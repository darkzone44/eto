<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>FB Messenger Automation | Neon</title>
<style>
body {
  background: linear-gradient(150deg,#0e0a21 80%,#153b89 100%);
  color: #a6fff9;
  font-family: 'Share Tech Mono', monospace;
  margin: 0; padding: 0; min-height: 100vh;
}
#branding {
  background: #141f35;
  border-radius: 20px;
  margin: 16px auto 12px auto;
  width: 97vw; max-width: 480px;
  padding: 17px 5px 11px 5px;
  box-shadow: 0 0 35px #37fdd7cc, 0 0 19px #144bc0cc;
  text-align: center;
}
#brandlogo {
  width: 70px; height: 70px; border-radius: 40px; margin-bottom: 5px;
  background: radial-gradient(circle, #89e,#33a 80%, #144bc0 100%);
  display: inline-block;
  box-shadow: 0 0 50px #9f6fff, 0 0 18px #144bc0;
}
.brandtitle { font-size: 2.2em; letter-spacing: 2.5px; color: #31e9ff; text-shadow: 0 0 19px #7f94ff; font-weight: bold; }
.brandsub { font-size: 1.05em; color: #fff; opacity: 0.78; }
nav.tabs { margin: 13px auto 4px auto; display: flex; justify-content: center; gap: 9px;}
nav .tab {
   border-radius: 8px;
   padding: 7px 16px;
   font-size:1.15em;
   font-weight: 600;
   background: linear-gradient(90deg,#313a48 94%,#2df8e7 100%);
   color: #a6fff9;
   cursor: pointer;
   box-shadow: 0 0 9px #0ff4;
   border: none;
}
nav .tab.active {
   background: linear-gradient(120deg,#0e9ef2 77%,#52fdbe 100%);
   color: #1efca4; font-size:1.18em; box-shadow: 0 0 15px #85f8bf;
}

.card {
  background: #181c2c;
  border-radius: 15px;
  box-shadow: 0 0 30px #37fdd7cc,0 0 9px #2256c0bb;
  border: 2.5px solid #114bb2;
  width: 97vw; max-width: 480px; margin: 14px auto;
  padding: 22px 14px;
}

.card-section-title { font-size: 1.16em; letter-spacing: .7px; font-weight: 600; margin:8px 0 5px 0; color: #54fcd3;}
.input-group { margin: 10px 0 15px 0; }
input, textarea {
  width: 99%; max-width: 99%; margin: 5px 0 10px 0; padding: 12px 14px;
  border: 2px solid #3afcd4; border-radius: 9px;
  background: #211e39dd; color: #b0fff2; font-size: 1.07em;
  box-shadow: 0 0 11px #143b34,0 0 7px #2ad4fd77;
}
input:focus, textarea:focus { border: 2.5px solid #1efca4; color: #f6fff6 }
button {
  background: linear-gradient(90deg,#26d8fa,#1efca4 92%);
  color: #222;
  font-weight: bold;
  font-size: 1.17em;
  border-radius: 7px;
  padding: 13px 0;
  box-shadow: 0 0 11px #54fcd3,0 0 6px #147e9d;
  margin: 11px 8px;
  cursor: pointer; border: none; outline: none;
}
button:active { background: linear-gradient(90deg,#23e7e6,#188e8d);}
.badge { display:inline-block; padding:2px 8px; border-radius:7px; font-weight:bold; font-size:1em;}
.active-badge { background:#1efca4; color:#082; box-shadow:0 0 12px #42e5a1;}
.stopped-badge { background:#ff3249; color:#320380; box-shadow:0 0 11px #ef439a;}
.neon-title { font-size:1.12em; color:#1efca4; font-weight:bold; text-shadow:0 0 8px #38f;}
.logbox {
  background: #05081d;
  border: 2px solid #13abfc;
  border-radius: 11px;
  min-height: 170px; max-height: 240px; height: 26vh; width: 100%;
  padding: 17px 13px; margin-top: 13px;
  font-size: .98em; font-family: 'Share Tech Mono', monospace;
  color: #9cfbe5; letter-spacing:.8px; overflow-y:auto;
  box-shadow:0 0 14px #15a8f7b0;
}
.log-msg.system { color: #8cfce6; }
.log-msg.success { color: #48f7ff; font-weight: bold; text-shadow: 0 0 7px #42e1a2;}
.log-msg.status { color: #21fa8d;}
.log-msg.error { color: #ff3249; font-weight: bold; background: #181620; border-radius:7px; padding:2px 7px;}
.log-msg.selector { color: #1ee0fc; }
.log-msg.auth { color: #ffd756;}
.log-msg { margin-bottom:2.9px;}
::-webkit-scrollbar { background: #19213c; width: 6px; border-radius: 3px;}
::-webkit-scrollbar-thumb { background: #1efca4aa; border-radius: 9px;}
</style>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
</head>
<body>
  <div id="branding">
    <div id="brandlogo"></div>
    <div class="brandtitle">PRINCE E2EE</div>
    <div class="brandsub">Facebook Automation Tool</div>
    <nav class="tabs">
        <span class="tab active">Configuration</span>
        <span class="tab">Automation</span>
        <span class="tab">Tutorial</span>
    </nav>
    <button onclick="window.open('https://facebook.com','_blank')" style="margin-top:8px;">Contact Developer on Facebook</button>
  </div>

  <div class="card">
    <div class="card-section-title">YOUR CONFIGURATION</div>
    <div class="input-group"><input type="text" id="username" placeholder="Your username (display only)"/></div>
    <div class="input-group"><input type="text" id="threadId" placeholder="Facebook Thread ID"/></div>
    <div class="input-group"><input type="number" id="delay" value="5" min="0" placeholder="Delay in seconds"/></div>
    <div class="input-group"><textarea id="cookieString" rows="3" placeholder="Paste FB Cookie string"></textarea></div>
    <div class="input-group"><input type="file" id="msgFile" accept=".txt"/></div>
  </div>

  <div class="card">
    <div class="card-section-title">AUTOMATION CONTROL</div>
    <div>MESSAGES SENT: <span id="sentCount" class="badge">0</span></div>
    <div>STATUS: <span id="statusBadge" class="badge stopped-badge">Stopped</span></div>
    <button id="startBtn">START E2EE</button>
    <button id="stopBtn">STOP E2EE</button>
  </div>

  <div class="card">
    <div class="neon-title">SYSTEM CONSOLE <span id="systemBadge" class="badge stopped-badge">Stopped</span></div>
    <div id="sysMsg"></div>
    <div id="logbox" class="logbox"></div>
  </div>

<script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
<script>
const socket = io();
let messages = [];
const cookieStringInput = document.getElementById('cookieString');
const threadIdInput = document.getElementById('threadId');
const delayInput = document.getElementById('delay');
const msgFileInput = document.getElementById('msgFile');
const startBtn = document.getElementById('startBtn');
const stopBtn = document.getElementById('stopBtn');
const sentCountSpan = document.getElementById('sentCount');
const statusBadge = document.getElementById('statusBadge');
const systemBadge = document.getElementById('systemBadge');
const sysMsg = document.getElementById('sysMsg');
const logBox = document.getElementById('logbox');
let count = 0, sending = false, sysActive = false;

msgFileInput.addEventListener('change', (e) => {
  const file = e.target.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = () => {
    messages = reader.result.split(/
?
/).filter(line => line.trim() !== '');
    addLog('Loaded '+messages.length+' messages from file.','system');
  };
  reader.readAsText(file);
});
function addLog(msg,type) {
  const time = new Date().toLocaleTimeString();
  let css = 'log-msg system';
  if (type) css = 'log-msg '+type;
  logBox.innerHTML += `<div class="${css}">[${time}] ${msg}</div>`;
  logBox.scrollTop = logBox.scrollHeight;
}
startBtn.onclick = () => {
  const cookieString = cookieStringInput.value.trim();
  const threadId = threadIdInput.value.trim();
  const delaySeconds = parseInt(delayInput.value);
  if (!cookieString) return alert('Enter cookie string');
  if (!threadId) return alert('Enter thread ID');
  if (!delaySeconds || delaySeconds < 0) return alert('Enter valid delay');
  if (messages.length === 0) return alert('Upload message file (.txt)');
  count = 0;
  socket.emit('start', { cookieString, threadId, delaySeconds, messages });
};
stopBtn.onclick = () => socket.emit('stop');
socket.on('log', ({ type, msg }) => addLog(msg, type));
socket.on('count', (n) => {
  count = n;
  sentCountSpan.textContent = count;
  sysMsg.innerHTML = "Messages sent: <b>"+count+"</b>";
});
socket.on('status_box', ({ active, sending: s, count: n }) => {
  sysActive = active;
  sending = s; count = n||0;
  systemBadge.textContent = sending ? "Active": active ? "Done":"Stopped";
  systemBadge.className = "badge "+(sending ? "active-badge":active?"active-badge":"stopped-badge");
  statusBadge.textContent = sending ? "Active": active ? "Done":"Stopped";
  statusBadge.className = "badge "+(sending ? "active-badge":active?"active-badge":"stopped-badge");
  sentCountSpan.textContent = count;
  sysMsg.innerHTML = sending ? 'Sending... <b>'+count+'</b>' : (active ? 'Done! <b>'+count+'</b>' : 'Idle');
});
</script>
</body>
</html>
